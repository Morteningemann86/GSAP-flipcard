<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="main.css" />
    <title>Document</title>
  </head>
  <body>
    <div class="card" id="card">
      <h1>Playing with GSAP</h1>
      <p>
        Thanks to the most-awesome Gary Simon from DesignCourse for giving an
        intro to GSAP. I learned a lot and I hope you like what I did with it
        all.
      </p>
    </div>

    <!-- We use GSAP for the animation, which stands for GreenSock Animation Platform https://cdnjs.com/libraries/gsap -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"
      integrity="sha512-IQLehpLoVS4fNzl7IfH8Iowfm5+RiMGtHykgZJl9AWMgqx0AmJ6cRWcB+GaGVtIsnC4voMfm8f2vwtY+6oPjpQ=="
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js"
      integrity="sha512-6MT8e40N5u36Um5SXKtwZmoKcCSg1XaKtexnXZPpQ4iJDHrBEHXKz37fnDovXezsaCd4oKCH5Y+vrcl7qpLPoA=="
      crossorigin="anonymous"
    ></script>

    <script>
      var card = document.getElementById('card');

      var rule = CSSRulePlugin.getRule('.card::before');
      var rule2 = CSSRulePlugin.getRule('.card::after');

      var tl = gsap.timeline({ defaults: { ease: 'power2.inOut' } });

      tl.to(rule, {
        width: '100%',
      });
      tl.to(
        rule2,
        {
          width: '100%',
        }
        // '-=.3'
      );
      tl.to(
        'h1',
        {
          color: 'white',
        },
        '-=.7'
      );
      tl.to(
        'p',
        {
          clipPath: 'circle(140% at 0% 100%)',
          transform: 'translateX(0)',
          ease: Back.easeOut.config(4),
        },
        '-=.3'
      );
      tl.pause();

      card.addEventListener('mouseenter', () => {
        tl.play();
      });
      card.addEventListener('mouseleave', () => {
        tl.reverse();
      });
    </script>
  </body>
</html>
